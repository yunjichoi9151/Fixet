<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <style>
      @font-face {
        font-family: 'Pretendard';
        src: url('../assets/fonts/PretendardVariable.woff2') format('woff2');
        font-weight: 100 900;
        font-style: normal;
        font-display: swap;
      }
      :root {
        --fg: #0b0d12;
        --muted: #8f96a3;
        --accent: #3b82f6;
        --bg: #fff;
        --link: #475569;
        --icon: #9ca3af;
        --iconHover: #111827;
        --focus: #94a3b8;
      }
      * {
        box-sizing: border-box;
      }
      body {
        margin: 12px;
        width: 240px;
        font-family: 'Pretendard', system-ui, -apple-system, Segoe UI, Roboto, Arial;
        font-size: 14px;
        line-height: 1.45;
        color: var(--fg);
        background: var(--bg);
      }
      .row {
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .logo {
        display: flex;
        align-items: center;
        gap: 5px;
        margin-bottom: 8px;
      }
      .logo img {
        width: 28px;
        height: 28px;
        border-radius: 8px;
      }
      .logo .title {
        font-weight: 700;
        letter-spacing: 0.2px;
      }
      .hint {
        color: var(--muted);
        font-size: 10px;
        font-weight: 400;
        margin-left: 5px;
      }
      .toggle {
        margin: 10px 0 14px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 8px 10px;
        border: 1px solid #e5e7eb;
        border-radius: 10px;
        cursor: pointer;
        user-select: none;
      }
      .toggle .label {
        font-weight: 600;
      }
      .switch {
        position: relative;
        width: 42px;
        height: 24px;
        border-radius: 999px;
        background: #d1d5db;
        transition: background 0.2s ease;
      }
      .switch::after {
        content: '';
        position: absolute;
        top: 3px;
        left: 3px;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: #fff;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        transition: transform 0.2s ease;
      }
      .switch.on {
        background: var(--accent);
      }
      .switch.on::after {
        transform: translateX(18px);
      }
      .footer {
        margin-top: 6px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .link {
        text-decoration: none;
        color: var(--link);
        font-weight: 700;
        font-size: 12px;
        padding-left: 5px;
      }
      .link:hover {
        text-decoration: underline;
      }
      .icons {
        display: flex;
        gap: 10px;
        align-items: center;
      }
      .iconbtn {
        width: 20px;
        height: 20px;
        display: inline-grid;
        place-items: center;
        border: none;
        background: transparent;
        cursor: pointer;
        padding: 0;
      }
      .iconbtn svg {
        width: 16px;
        height: 16px;
        fill: var(--icon);
      }
      .iconbtn:hover svg {
        fill: var(--iconHover);
      }
      .iconbtn:focus-visible {
        outline: 2px solid var(--focus);
        outline-offset: 2px;
      }
      .iconbtn:active svg {
        filter: brightness(0.85);
      }
      #state {
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="logo">
      <img src="../assets/icon-32.png" alt="Fixet logo" />
      <div class="title">Fixet <span class="hint">BOJ·SWEA 자동 제출 형식 보정</span></div>
    </div>

    <div id="toggle" class="toggle" role="switch" aria-checked="false" tabindex="0">
      <span class="label">사용</span>
      <div id="switch" class="switch" aria-hidden="true"></div>
    </div>

    <div class="footer">
      <a href="#" id="linkIssues" class="link" title="Report an issue on GitHub"> 오류 신고 </a>

      <div class="icons">
        <button
          id="btnGithub"
          class="iconbtn"
          type="button"
          title="Open GitHub repo"
          aria-label="GitHub"
        >
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path
              d="M12 .5a12 12 0 0 0-3.79 23.39c.6.11.82-.26.82-.58v-2.02c-3.35.73-4.05-1.61-4.05-1.61-.55-1.38-1.35-1.74-1.35-1.74-1.1-.75.08-.73.08-.73 1.22.09 1.87 1.26 1.87 1.26 1.08 1.85 2.84 1.32 3.54 1.01.11-.79.42-1.32.76-1.62-2.67-.3-5.48-1.34-5.48-5.95 0-1.31.47-2.38 1.25-3.22-.13-.31-.54-1.56.12-3.25 0 0 1.01-.32 3.3 1.23a11.46 11.46 0 0 1 6.01 0c2.28-1.55 3.29-1.23 3.29-1.23.66 1.69.25 2.94.12 3.25.78.84 1.25 1.91 1.25 3.22 0 4.62-2.81 5.64-5.49 5.93.43.37.81 1.1.81 2.22v3.29c0 .32.22.7.83.58A12 12 0 0 0 12 .5z"
            />
          </svg>
        </button>

        <!-- <button id="btnHome" class="iconbtn" title="Open Fixet page" aria-label="Home">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3.2 2 12h2v8a1 1 0 0 0 1 1h5v-6h4v6h5a1 1 0 0 0 1-1v-8h2L12 3.2z"/></svg>
        </button> -->

        <button id="btnMail" class="iconbtn" title="Send email" type="button" aria-label="Email">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path
              d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 4-8 5L4 8V6l8 5 8-5v2z"
            />
          </svg>
        </button>
      </div>

      <span class="state" id="state"></span>
    </div>

    <script src="popup.js"></script>
  </body>
</html>
